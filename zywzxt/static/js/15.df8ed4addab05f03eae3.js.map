{"version":3,"sources":["webpack:///./src/assets/js/grblglpage.js","webpack:///./src/components/grblglpage.vue?c400","webpack:///./src/components/grblglpage.vue"],"names":["grblglpage","data","roleuser","search_obj","pname","patientId","pageNum","pageSize","diagnoseLabels","multipleSelectionAll","multipleSelection","idKey","tableData","list","total","created","this","initPage","$store","getters","gettersroleuser","methods","rowClassname","headerClassname","handleClick","row","console","log","brinfo","pId","inquiryId","lastinquiryId","pathParams","Object","path","fh_","dispatch","stringify_default","prePathParams","is_display_xj","is_display_fh","$common","GotoPage","handleSizeChange","val","handleCurrentChange","changePageCoreRecordData","getBrList","handleSelectionChange","_this","setTimeout","setSelectRow","length","selectAllIds","forEach","push","$refs","table","clearSelection","i","indexOf","toggleRowSelection","that","selectIds","noSelectIds","id","splice","toggleSelection","rows","_this2","multipleTable","i_params","JSON","parse","window","localStorage","getItem","getBrDiagnoseLabels","_that","$http","get","then","response","code","str","replace","openErrorMsgBox","msg","catch","error","params","pageInfo","GobackPage","GoBackPrePage","exportBlList","params_obj","inquiryIdList","loading","openLoading","post","close","inquiryInfo","$exportPrint","exportWord","url","p","blob","Blob","type","objectUrl","URL","createObjectURL","link","document","createElement","href","setAttribute","fname","body","appendChild","click","components_grblglpage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","readonly","model","value","callback","$$v","expression","_v","ref","staticStyle","width","border","overflow-y","tooltip-effect","header-row-class-name","row-class-name","stripe","on","selection-change","min-width","prop","label","scopedSlots","_u","key","fn","scope","$event","background","current-page","page-size","layout","size-change","current-change","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.df8ed4addab05f03eae3.js","sourcesContent":["import qs from 'qs'\nexport default {\n    data() {\n      return {\n        roleuser:{},\n        search_obj:{\n            pname:null,\n            patientId:null,\n            pageNum:1,\n            pageSize:10\n          },\n        diagnoseLabels:\"诊断标签：\",\n        multipleSelectionAll:[],//所有选中的数据包含跨页数据\n        multipleSelection:[],// 当前页选中的数据\n        idKey: 'inquiryId', // 标识列表数据中每一行的唯一键的名称\n        tableData: {\n            list:[],\n            pageNum:1,\n            pageSize:10,\n            total:0\n          }\n      }\n    },\n    created () {\n        //获取页面的初始化数据\n        this.initPage();\n        this.roleuser=this.$store.getters.gettersroleuser;\n    },\n    methods: {\n      rowClassname() {\n        return \"rowClassname\";\n      },\n      headerClassname() {\n        return \"headerClassname\";\n      },\n      handleClick(row) {\n          var _that = this;\n          console.log(\"当前行\",row)\n          var brinfo = {pId:row.pId,inquiryId:row.inquiryId,lastinquiryId:'',pname:this.search_obj.pname};//以前\n          var brinfo1 = {pId:row.pId,inquiryId:row.inquiryId,lastinquiryId:''}; //现在\n           //跳转组件并且 传递pid\n           var pathParams = new Object();\n           pathParams.path = 'bryfpage';\n           pathParams.data = brinfo\n           pathParams.fh_ = brinfo\n           //缓存 目标跳转页面的参数\n           _that.$store.dispatch(\"setPathParams\", JSON.stringify(pathParams));\n           var prePathParams = new Object();\n           prePathParams.path = 'grblglpage';\n           prePathParams.data = this.search_obj;\n            prePathParams.is_display_xj = false //去掉返回\n            prePathParams.is_display_fh = false //去掉返回\n           //缓存 跳转页面的参数\n           _that.$store.dispatch(\"setPrePathParams\", JSON.stringify(prePathParams));\n           _that.$common.GotoPage(\"bryfpage\",brinfo,_that);\n           // _that.$router.push({ name:'bryfpage',params:{pId:row.pId,inquiryId:row.inquiryId,lastinquiryId:''}})\n           //                     'bryfpage/:pId/:inquiryId/:lastinquiryId'\n      },\n      handleSizeChange(val) {\n        console.log(`每页 ${val} 条`);\n      },\n      handleCurrentChange(val) {\n          this.changePageCoreRecordData();\n         this.search_obj.pageNum = val;\n         this.getBrList(this.search_obj);\n      },\n    handleSelectionChange (val) {\n        this.multipleSelection = val;\n        //实时记录选中的数据\n        setTimeout(()=>{\n            this.changePageCoreRecordData();\n        }, 50);\n    },\n    setSelectRow() {\n        if (!this.multipleSelectionAll || this.multipleSelectionAll.length <= 0) {\n            return;\n        }\n        // 标识当前行的唯一键的名称\n        let idKey = this.idKey;\n        let selectAllIds = [];\n        let that = this;\n        this.multipleSelectionAll.forEach(row=>{\n            selectAllIds.push(row[idKey]);\n        })\n        this.$refs.table.clearSelection();\n        for(var i = 0; i < this.tableData.list.length; i++) {\n            if (selectAllIds.indexOf(this.tableData.list[i][idKey]) >= 0) {\n                // 设置选中，记住table组件需要使用ref=\"table\"\n                this.$refs.table.toggleRowSelection(this.tableData.list[i], true);\n            }\n        }\n    },\n    // 记忆选择核心方法\n    changePageCoreRecordData () {\n        // 标识当前行的唯一键的名称\n        let idKey = this.idKey;\n        let that = this;\n        // 如果总记忆中还没有选择的数据，那么就直接取当前页选中的数据，不需要后面一系列计算\n        if (this.multipleSelectionAll.length <= 0) {\n            this.multipleSelectionAll = this.multipleSelection;\n            return;\n        }\n        // 总选择里面的key集合\n        let selectAllIds = [];\n        this.multipleSelectionAll.forEach(row=>{\n            selectAllIds.push(row[idKey]);\n        })\n        let selectIds = []\n        // 获取当前页选中的id\n        this.multipleSelection.forEach(row=>{\n            selectIds.push(row[idKey]);\n            // 如果总选择里面不包含当前页选中的数据，那么就加入到总选择集合里\n            if (selectAllIds.indexOf(row[idKey]) < 0) {\n                that.multipleSelectionAll.push(row);\n            }\n        })\n        let noSelectIds = [];\n        // 得到当前页没有选中的id\n        this.tableData.list.forEach(row=>{\n            if (selectIds.indexOf(row[idKey]) < 0) {\n                noSelectIds.push(row[idKey]);\n            }\n        })\n        noSelectIds.forEach(id=>{\n            if (selectAllIds.indexOf(id) >= 0) {\n                for(let i = 0; i< that.multipleSelectionAll.length; i ++) {\n                    if (that.multipleSelectionAll[i][idKey] == id) {\n                        // 如果总选择中有未被选中的，那么就删除这条\n                        that.multipleSelectionAll.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n        })\n    },\n      toggleSelection(rows) {\n        if (rows) {\n        rows.forEach(row => {\n            this.$refs.multipleTable.toggleRowSelection(row);\n        });\n        } else {\n        this.$refs.multipleTable.clearSelection();\n        }\n      },\n      /**\n       * 从缓存中取出当前页面的数据\n      */\n      initPage(){\n        //从缓存中取出当前页面的参数\n        var i_params = JSON.parse(window.localStorage.getItem(\"pathParams\"));\n\n        if(i_params.data.pId!=\"\" && i_params.data.pId){\n            this.search_obj.patientId = i_params.data.pId;\n        }\n        if(i_params.data.patientId!=\"\" && i_params.data.patientId){\n            this.search_obj.patientId = i_params.data.patientId;\n        }\n        if(i_params.data.pname!=\"\"){\n            this.search_obj.pname = i_params.data.pname;\n        }\n        if(i_params.data.pageNum){\n            this.search_obj.pageNum = i_params.data.pageNum;\n        }\n        if(i_params.data.pageSize){\n            this.search_obj.pageSize = i_params.data.pageSize;\n        }\n        this.getBrDiagnoseLabels(this.search_obj.patientId);\n        this.getBrList(this.search_obj);\n      },\n      /**\n       * 获取病人的所有诊断标签\n       * @param {*} pId\n       */\n      getBrDiagnoseLabels(pId){\n          var _that = this;\n          _that.$http.get(\"/inquiry/getOnePatientLabels?patientId=\"+pId).then(function (response) {\n                if(response.code == \"1\"){\n                    var str = JSON.stringify(response.data.diagnoseLabels);\n                    str = str.replace(/[\\[\\]\\\"]*/g, '');\n                    _that.diagnoseLabels = _that.diagnoseLabels+str;\n                }else{\n                    _that.$common.openErrorMsgBox(response.msg,_that);\n                }\n            }).catch(function (error) {\n                 _that.$common.openErrorMsgBox(error,_that);\n            });\n      },\n      /**\n       * 获取病人的病历列表\n       * @param {*} search_obj\n       */\n      getBrList(search_obj){\n        var _that = this;\n        var url = \"/MrManage/getMrList\";\n        _that.$http.get(url,{\n            params: search_obj\n           }).then(function (response) {\n          console.log(\"当前病人\",response)\n               if(response.code == \"1\"){\n                  if(JSON.stringify(response.data.pageInfo.list)!=\"[]\"){\n                    _that.tableData = response.data.pageInfo;\n                    setTimeout(()=>{\n                        _that.setSelectRow();\n                    }, 50);\n                }\n               }else{\n                   _that.$common.openErrorMsgBox(response.msg,_that);\n               }\n\n            }).catch(function (error) {\n                 _that.$common.openErrorMsgBox(error,_that);\n            });\n      },\n      GobackPage(){\n          this.$common.GoBackPrePage(\"grblglpage\",this.search_obj,this);\n      },\n      /**\n       * 导出病历\n       *\n       */\n      exportBlList(){\n          var _that = this;\n          var params_obj = {};\n          params_obj.inquiryIdList =[];\n          params_obj.all = false;\n          params_obj.patientId = null;\n         if(JSON.stringify(this.multipleSelectionAll)=='[]'){\n             _that.$common.openErrorMsgBox(\"请选中要导出的病历信息\",_that);\n             return false;\n         }else{\n             for(var i=0;i<this.multipleSelectionAll.length;i++){\n                params_obj.inquiryIdList.push(this.multipleSelectionAll[i].inquiryId);\n             }\n         }\n         console.log(JSON.stringify(params_obj));\n         var url = \"/dataStatistics/getInquiryInfoList\";\n\t\t     var loading = _that.$common.openLoading(\"病历导出中，请耐心等待\",_that);\n          _that.$http.post(url, params_obj).then(function (response) {\n                  loading.close();\n                  if(response.code == \"1\"){\n                      //打印的请求数据成功 把数据传递给打印控件；\n            if(response.data.inquiryInfo && JSON.stringify(response.data.inquiryInfo)!=\"{}\"){\n              _that.$exportPrint(response.data.inquiryInfo,{});\n            }\n\n                  }else{\n                      _that.$common.openErrorMsgBox(response.msg,_that);\n                  }\n              }).catch(function (error) {\n\t\t\t  \tloading.close();\n                _that.$common.openErrorMsgBox(error,_that);\n\n            });\n      },\n\n      /**\n       * 导出word\n       *\n       */\n      exportWord(){\n        var _that = this;\n        var params_obj = {};\n        params_obj.inquiryIdList =[];\n        params_obj.all = false;\n        params_obj.patientId = null;\n        if(JSON.stringify(this.multipleSelectionAll)=='[]'){\n          _that.$common.openErrorMsgBox(\"请选中要导出的病历信息\",_that);\n          return false;\n        }else{\n          for(var i=0;i<this.multipleSelectionAll.length;i++){\n            params_obj.inquiryIdList.push(this.multipleSelectionAll[i].inquiryId);\n          }\n        }\n        // console.log(JSON.stringify(params_obj));\n         console.log(params_obj);\n        var url = \"/index/getPatientInfoWord?all=false\"\n        params_obj.inquiryIdList.forEach((p)=>{\n               url+=\"&inquiryIdList=\"+p\n        })\n        console.log(url)\n        // var url = \"/index/getPatientInfoWord?inquiryIdList=533&inquiryIdList=534&all=false\";\n        var loading = _that.$common.openLoading(\"病历word文档导出中，请耐心等待\",_that);\n         _that.$http.post(url,{}).then(function (response) {\n           console.log(response)\n            loading.close();\n           let blob = new Blob([response], {type: `application/msword` //word文档为msword,pdf文档为pdf\n           });\n           let objectUrl = URL.createObjectURL(blob);\n           let link = document.createElement(\"a\");\n           let fname = `病人病例`; //下载文件的名字\n           link.href = objectUrl;\n           link.setAttribute(\"download\", fname);\n           document.body.appendChild(link);\n           link.click();\n        }).catch(function (error) {\n          loading.close();\n          _that.$common.openErrorMsgBox(error,_that);\n\n        });\n      }\n\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/grblglpage.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grblgl-container\"},[_c('div',{staticClass:\"search-row\"},[_c('div',{staticClass:\"search-row-input-item\"},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.diagnoseLabels),callback:function ($$v) {_vm.diagnoseLabels=$$v},expression:\"diagnoseLabels\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-div-continer\"},[_c('div',{staticClass:\"table-continer\"},[_c('el-table',{ref:\"table\",staticStyle:{\"width\":\"1300px\",\"border\":\"1px solid #ebeef5\",\"overflow-y\":\"auto\"},attrs:{\"tooltip-effect\":\"dark\",\"data\":_vm.tableData.list,\"header-row-class-name\":_vm.headerClassname,\"row-class-name\":_vm.rowClassname,\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"min-width\":\"96\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"times\",\"label\":\"序号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pName\",\"label\":\"姓名\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"inquiryDate\",\"label\":\"最近就诊时间\",\"min-width\":\"260\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"btn-font-default\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleClick(scope.row)}}},[_vm._v(\"查看病例\")])]}}])})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"foot-container\"},[_c('div',{staticClass:\"page-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.search_obj.pageNum,\"page-size\":_vm.search_obj.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.tableData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-row-btn-group\"},[(_vm.roleuser == 2)?_c('el-button',{staticClass:\"btn-blue\",on:{\"click\":_vm.exportBlList}},[_vm._v(\"导出病历\")]):_vm._e(),_vm._v(\" \"),(_vm.roleuser == 2)?_c('el-button',{staticClass:\"btn-blue\",on:{\"click\":_vm.exportWord}},[_vm._v(\"导出word\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-default\",on:{\"click\":function($event){_vm.GobackPage()}}},[_vm._v(\"返回\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b32ddfe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/grblglpage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b32ddfe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./grblglpage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../assets/js/grblglpage.js\"\nimport __vue_script__ from \"!!babel-loader!../assets/js/grblglpage.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b32ddfe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./grblglpage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/grblglpage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}