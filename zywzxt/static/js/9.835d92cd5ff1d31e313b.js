webpackJsonp([9],{LOtJ:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("mvHQ"),a=o.n(r),i={name:"xjczbr",data:function(){return{form:{country:"",sourceProvince:null,sourceCity:null,age:null,pname:null,iqDate:null,gender:"男"},placeDate:{},country:[],province:[],city:[],rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},value1:"2018-07-01"}},created:function(){},beforeMount:function(){this.getPlace()},computed:{},watch:{},methods:{setCityList:function(t){var e=this.$store.getters.gettersPlaceData.placeList;for(var o in this.form.sourceCity=null,this.city=[],e)if(e[o].id==t){this.city=e[o].cityList;break}},setProList:function(t){if(this.province=[],this.city=[],this.form.sourceProvince=null,this.form.sourceCity=null,"0"==t){e=(e=this.$store.getters.gettersPlaceData.placeList).slice(1,e.length-1),this.province=e}else{var e=this.$store.getters.gettersPlaceData.placeList;this.province=e[0].cityList}},updateWgzdm:function(t){var e=new Array;for(var o in t){var r=new Object;r.id=t[o].cityId,r.provName=t[o].cityName,r.cityList=[],e.push(r)}return e},getPlace:function(){var t=this.$store.getters.gettersPlaceData;if(t&&"{}"==a()(t)){var e=this;this.$http.get("/infoGather/getPlace").then(function(o){"1"==o.code?((t=o.data).placeList[0].cityList=e.updateWgzdm(t.placeList[0].cityList),e.$store.dispatch("changePlaceData",t),e.placeDate=e.$store.getters.gettersPlaceData):e.$common.openLoading(o.msg,e)}).catch(function(t){e.$common.openLoading(t,e)})}},onSubmitBrxx:function(){var t=this,e=this.form;e.iqDate=t.$common.dateFormatStr(e.iqDate,"yyyy-MM-dd");var o=t.$common.openLoading("",t);this.$http.post("/infoGather/newDP",e).then(function(e){if(o.close(),"1"==e.code){var r={path:"xbrxxpage"};t.form.inquiryId=e.data.inquiryId;var i=JSON.parse(a()(t.form));r.data=i,t.$store.dispatch("setPathParams",a()(r)),t.$common.GotoPage("xbrxxpage",r,t)}else t.$common.openErrorMsgBox(e.msg,t)}).catch(function(e){o.close(),setTimeout(function(){t.$common.openErrorMsgBox(e,t)},1e3)})},onSubmitWjxx:function(){var t=this,e=this.form;e.iqDate=t.$common.dateFormatStr(e.iqDate,"yyyy-MM-dd");var o=t.$common.openLoading("",t);this.$http.post("/infoGather/newDP",e).then(function(e){if(o.close(),"1"==e.code){var r={path:"xwjxxpage"};t.form.inquiryId=e.data.inquiryId;var i=JSON.parse(a()(t.form));r.data=i,t.$store.dispatch("setPathParams",a()(r)),t.$common.GotoPage("xwjxxpage",r,t)}else t.$common.openErrorMsgBox(e.msg,t)}).catch(function(e){o.close(),setTimeout(function(){t.$common.openErrorMsgBox(e,t)},1e3)})}}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"x-home-from-container"},[o("div",{staticClass:"x-home-form"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"180px","label-position":"right"}},[o("el-row",[o("el-form-item",{attrs:{label:"姓名"}},[o("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.form.pname,callback:function(e){t.$set(t.form,"pname",e)},expression:"form.pname"}})],1)],1),t._v(" "),o("el-row",[o("el-form-item",{attrs:{label:"性别"}},[o("el-radio-group",{model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[o("el-radio",{attrs:{label:"男",value:"男"}}),t._v(" "),o("el-radio",{attrs:{label:"女",value:"女"}})],1)],1)],1),t._v(" "),o("el-row",[o("el-form-item",{attrs:{label:"年龄"}},[o("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",t._n(e))},expression:"form.age"}})],1)],1),t._v(" "),o("el-row",[o("el-form-item",{attrs:{label:"诊断日期"}},[o("el-date-picker",{attrs:{format:"yyyy/MM/dd",type:"date",placeholder:"选择日期"},model:{value:t.form.iqDate,callback:function(e){t.$set(t.form,"iqDate",e)},expression:"form.iqDate"}})],1)],1),t._v(" "),o("el-row",[o("el-form-item",{attrs:{label:"来源地"}},[o("el-row",{staticClass:"lyd"},[o("el-col",{attrs:{span:8}},[o("el-select",{staticStyle:{"margin-right":"10px"},on:{change:t.setProList},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}},[o("el-option",{attrs:{label:"中国",value:"0"}}),t._v(" "),o("el-option",{attrs:{label:"外国",value:"1"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:8}},[o("el-select",{staticStyle:{"margin-right":"10px","margin-left":"10px"},on:{change:t.setCityList},model:{value:t.form.sourceProvince,callback:function(e){t.$set(t.form,"sourceProvince",e)},expression:"form.sourceProvince"}},t._l(t.province,function(t){return o("el-option",{key:t.id,attrs:{label:t.provName,value:t.id}})}))],1),t._v(" "),o("el-col",{attrs:{span:8}},[o("el-select",{staticStyle:{"margin-left":"10px"},model:{value:t.form.sourceCity,callback:function(e){t.$set(t.form,"sourceCity",e)},expression:"form.sourceCity"}},t._l(t.city,function(t){return o("el-option",{key:t.cityId,attrs:{label:t.cityName,value:t.cityId}})}))],1)],1)],1)],1),t._v(" "),o("el-row",{staticClass:"btn-group-container"},[o("el-button",{staticClass:"btn-default btn-blue",attrs:{type:"primary"},on:{click:t.onSubmitWjxx}},[t._v("已填写基本资料")]),t._v(" "),o("el-button",{staticClass:"btn-default",attrs:{type:"primary"},on:{click:t.onSubmitBrxx}},[t._v("未填写基本资料")])],1)],1)],1)])},staticRenderFns:[]};var s=o("VU/8")(i,n,!1,function(t){o("ixcw")},null,null);e.default=s.exports},ixcw:function(t,e){}});
//# sourceMappingURL=9.835d92cd5ff1d31e313b.js.map