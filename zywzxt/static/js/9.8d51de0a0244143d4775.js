webpackJsonp([9],{"0tpK":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),o=a.n(n),s={data:function(){return{yytjpage:"yytjpage",wzqkpage:"wzqkpage",rangeDate:null,search_obj:{startDate:null,endDate:null,pageNum:1,pageSzie:10},tableData:{list:[],pageNum:1,pageSize:10,total:0}}},watch:{rangeDate:function(t,e){this.rangeDate?(this.search_obj.startDate=this.$common.dateFormatStr(this.rangeDate[0],"yyyy-MM-dd"),this.search_obj.endDate=this.$common.dateFormatStr(this.rangeDate[1],"yyyy-MM-dd")):(this.search_obj.startDate=null,this.search_obj.endDate=null)}},created:function(){this.getBlList()},methods:{rowClassname:function(){return"rowClassname"},headerClassname:function(){return"headerClassname"},searchBrxx:function(t){var e={};e.path="xbrxxpage";var a=JSON.parse(o()(t));e.data=a,this.$store.dispatch("setPathParams",o()(e)),this.$common.GotoPage("xbrxxpage",e,this)},deleteBlObj:function(t){var e=this,a="/infoGather/getPatientInfo?inquiryId="+t.inquiryId;e.$http.delete(a).then(function(t){"1"==t.code?(e.$common.openSuccessMsgBox("病历删除成功!",e),e.getBlList()):e.$common.openErrorMsgBox(t.msg,e)}).catch(function(t){e.$common.openErrorMsgBox(t,e)})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.search_obj.pageNum=t,this.getBlList()},opencomfigMethod:function(t,e,a){this.$common.openComfigDialog(t,e,a,this)},getBlList:function(){var t=this,e=this.search_obj;t.$http.get("/infoGather/getRecordList",{params:e}).then(function(e){"1"==e.code?"[]"!=o()(e.data.pageInfo.list)&&(t.tableData=e.data.pageInfo):t.$common.openErrorMsgBox(e.msg,t)}).catch(function(e){t.$common.openErrorMsgBox(e,t)})},downLoadFile:function(){var t=this;this.$http.get("/infoGather/getPatientInfoFile",{responseType:"blob"}).then(function(e){var a=new Blob([e],{type:"application/octet-stream"}),n=URL.createObjectURL(a),o=document.createElement("a");o.style.display="none",o.href=n;var s="";t.search_obj.startDate&&(s+=t.search_obj.startDate),t.search_obj.endDate&&(s+=t.search_obj.endDate),""==s&&(s="导出病历列表"),o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o)}).catch(function(e){t.$common.openErrorMsgBox(e,t)})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"br-list-div"},[a("div",{staticClass:"br-list-container"},[a("div",{staticClass:"search-row"},[a("div",{staticClass:"search-range-date-item"},[a("el-date-picker",{staticClass:"rq-input",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("div",{staticClass:"search-row-btn-group"},[a("el-button",{staticClass:"btn-default btn-deault-size btn-color-blue",on:{click:t.getBlList}},[t._v("查询")])],1)]),t._v(" "),a("div",{staticClass:"table-continer"},[a("el-table",{staticStyle:{border:"1px solid #ebeef5","overflow-y":"auto",height:"100%"},attrs:{data:t.tableData.list,"header-row-class-name":t.headerClassname,"row-class-name":t.rowClassname,stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"96"}}),t._v(" "),a("el-table-column",{attrs:{prop:"iqDate",label:"就诊时间",width:"340"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pname",label:"姓名",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"btn-font-default",attrs:{type:"text"},on:{click:function(a){t.searchBrxx(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{staticClass:"btn-font-default",attrs:{type:"text"},on:{click:function(a){t.opencomfigMethod("请确认删除？",t.deleteBlObj,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"foot-container"},[a("div",{staticClass:"page-container"},[a("el-pagination",{attrs:{background:"","current-page":t.tableData.pageNum,"page-size":t.tableData.pageSize,layout:"total, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"search-row-btn-group"},[a("el-button",{staticClass:"btn-default btn-deault-size btn-color-blue",on:{click:t.downLoadFile}},[t._v("导出病历")])],1)])])])},staticRenderFns:[]};var i=a("VU/8")(s,r,!1,function(t){a("qkvU")},null,null);e.default=i.exports},qkvU:function(t,e){}});
//# sourceMappingURL=9.8d51de0a0244143d4775.js.map