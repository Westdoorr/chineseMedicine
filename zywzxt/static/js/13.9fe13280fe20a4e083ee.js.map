{"version":3,"sources":["webpack:///./src/assets/js/grblglpage.js","webpack:///./src/components/grblglpage.vue?4536","webpack:///./src/components/grblglpage.vue"],"names":["grblglpage","data","search_obj","pname","patientId","pageNum","pageSize","diagnoseLabels","multipleSelectionAll","multipleSelection","idKey","tableData","list","total","created","this","initPage","methods","rowClassname","headerClassname","handleClick","row","console","log","brinfo","pId","inquiryId","lastinquiryId","pathParams","Object","path","fh_","$store","dispatch","stringify_default","prePathParams","is_display_xj","is_display_fh","$common","GotoPage","handleSizeChange","val","handleCurrentChange","changePageCoreRecordData","getBrList","handleSelectionChange","_this","setTimeout","setSelectRow","length","selectAllIds","forEach","push","$refs","table","clearSelection","i","indexOf","toggleRowSelection","that","selectIds","noSelectIds","id","splice","toggleSelection","rows","_this2","multipleTable","i_params","JSON","parse","window","localStorage","getItem","getBrDiagnoseLabels","_that","$http","get","then","response","code","str","replace","openErrorMsgBox","msg","catch","error","params","pageInfo","GobackPage","GoBackPrePage","exportBlList","params_obj","inquiryIdList","loading","openLoading","post","close","inquiryInfo","$exportPrint","exportWord","url","p","blob","Blob","type","objectUrl","URL","createObjectURL","link","document","createElement","href","setAttribute","fname","body","appendChild","click","components_grblglpage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","readonly","model","value","callback","$$v","expression","_v","ref","staticStyle","width","border","overflow-y","tooltip-effect","header-row-class-name","row-class-name","stripe","on","selection-change","min-width","prop","label","scopedSlots","_u","key","fn","scope","$event","background","current-page","page-size","layout","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.9fe13280fe20a4e083ee.js","sourcesContent":["import qs from 'qs'\r\nexport default {\r\n    data() {\r\n      return {\r\n        search_obj:{\r\n            pname:null,\r\n            patientId:null,\r\n            pageNum:1,\r\n            pageSize:10\r\n          },\r\n        diagnoseLabels:\"诊断标签：\",\r\n        multipleSelectionAll:[],//所有选中的数据包含跨页数据\r\n        multipleSelection:[],// 当前页选中的数据\r\n        idKey: 'inquiryId', // 标识列表数据中每一行的唯一键的名称\r\n        tableData: {\r\n            list:[],\r\n            pageNum:1,\r\n            pageSize:10,\r\n            total:0\r\n          }\r\n      }\r\n    },\r\n    created () {\r\n        //获取页面的初始化数据\r\n        this.initPage();\r\n    },\r\n    methods: {\r\n      rowClassname() {\r\n        return \"rowClassname\";\r\n      },\r\n      headerClassname() {\r\n        return \"headerClassname\";\r\n      },\r\n      handleClick(row) {\r\n          var _that = this;\r\n          console.log(\"当前行\",row)\r\n          var brinfo = {pId:row.pId,inquiryId:row.inquiryId,lastinquiryId:'',pname:this.search_obj.pname};//以前\r\n          var brinfo1 = {pId:row.pId,inquiryId:row.inquiryId,lastinquiryId:''}; //现在\r\n           //跳转组件并且 传递pid\r\n           var pathParams = new Object();\r\n           pathParams.path = 'bryfpage';\r\n           pathParams.data = brinfo\r\n           pathParams.fh_ = brinfo\r\n           //缓存 目标跳转页面的参数\r\n           _that.$store.dispatch(\"setPathParams\", JSON.stringify(pathParams));\r\n           var prePathParams = new Object();\r\n           prePathParams.path = 'grblglpage';\r\n           prePathParams.data = this.search_obj;\r\n            prePathParams.is_display_xj = false //去掉返回\r\n            prePathParams.is_display_fh = false //去掉返回\r\n           //缓存 跳转页面的参数\r\n           _that.$store.dispatch(\"setPrePathParams\", JSON.stringify(prePathParams));\r\n           _that.$common.GotoPage(\"bryfpage\",brinfo,_that);\r\n           // _that.$router.push({ name:'bryfpage',params:{pId:row.pId,inquiryId:row.inquiryId,lastinquiryId:''}})\r\n           //                     'bryfpage/:pId/:inquiryId/:lastinquiryId'\r\n      },\r\n      handleSizeChange(val) {\r\n        console.log(`每页 ${val} 条`);\r\n      },\r\n      handleCurrentChange(val) {\r\n          this.changePageCoreRecordData();\r\n         this.search_obj.pageNum = val;\r\n         this.getBrList(this.search_obj);\r\n      },\r\n    handleSelectionChange (val) {\r\n        this.multipleSelection = val;\r\n        //实时记录选中的数据\r\n        setTimeout(()=>{\r\n            this.changePageCoreRecordData();\r\n        }, 50);\r\n    },\r\n    setSelectRow() {\r\n        if (!this.multipleSelectionAll || this.multipleSelectionAll.length <= 0) {\r\n            return;\r\n        }\r\n        // 标识当前行的唯一键的名称\r\n        let idKey = this.idKey;\r\n        let selectAllIds = [];\r\n        let that = this;\r\n        this.multipleSelectionAll.forEach(row=>{\r\n            selectAllIds.push(row[idKey]);\r\n        })\r\n        this.$refs.table.clearSelection();\r\n        for(var i = 0; i < this.tableData.list.length; i++) {\r\n            if (selectAllIds.indexOf(this.tableData.list[i][idKey]) >= 0) {\r\n                // 设置选中，记住table组件需要使用ref=\"table\"\r\n                this.$refs.table.toggleRowSelection(this.tableData.list[i], true);\r\n            }\r\n        }\r\n    },\r\n    // 记忆选择核心方法\r\n    changePageCoreRecordData () {\r\n        // 标识当前行的唯一键的名称\r\n        let idKey = this.idKey;\r\n        let that = this;\r\n        // 如果总记忆中还没有选择的数据，那么就直接取当前页选中的数据，不需要后面一系列计算\r\n        if (this.multipleSelectionAll.length <= 0) {\r\n            this.multipleSelectionAll = this.multipleSelection;\r\n            return;\r\n        }\r\n        // 总选择里面的key集合\r\n        let selectAllIds = [];\r\n        this.multipleSelectionAll.forEach(row=>{\r\n            selectAllIds.push(row[idKey]);\r\n        })\r\n        let selectIds = []\r\n        // 获取当前页选中的id\r\n        this.multipleSelection.forEach(row=>{\r\n            selectIds.push(row[idKey]);\r\n            // 如果总选择里面不包含当前页选中的数据，那么就加入到总选择集合里\r\n            if (selectAllIds.indexOf(row[idKey]) < 0) {\r\n                that.multipleSelectionAll.push(row);\r\n            }\r\n        })\r\n        let noSelectIds = [];\r\n        // 得到当前页没有选中的id\r\n        this.tableData.list.forEach(row=>{\r\n            if (selectIds.indexOf(row[idKey]) < 0) {\r\n                noSelectIds.push(row[idKey]);\r\n            }\r\n        })\r\n        noSelectIds.forEach(id=>{\r\n            if (selectAllIds.indexOf(id) >= 0) {\r\n                for(let i = 0; i< that.multipleSelectionAll.length; i ++) {\r\n                    if (that.multipleSelectionAll[i][idKey] == id) {\r\n                        // 如果总选择中有未被选中的，那么就删除这条\r\n                        that.multipleSelectionAll.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    },\r\n      toggleSelection(rows) {\r\n        if (rows) {\r\n        rows.forEach(row => {\r\n            this.$refs.multipleTable.toggleRowSelection(row);\r\n        });\r\n        } else {\r\n        this.$refs.multipleTable.clearSelection();\r\n        }\r\n      },\r\n      /**\r\n       * 从缓存中取出当前页面的数据\r\n      */\r\n      initPage(){\r\n        //从缓存中取出当前页面的参数\r\n        var i_params = JSON.parse(window.localStorage.getItem(\"pathParams\"));\r\n\r\n        if(i_params.data.pId!=\"\" && i_params.data.pId){\r\n            this.search_obj.patientId = i_params.data.pId;\r\n        }\r\n        if(i_params.data.patientId!=\"\" && i_params.data.patientId){\r\n            this.search_obj.patientId = i_params.data.patientId;\r\n        }\r\n        if(i_params.data.pname!=\"\"){\r\n            this.search_obj.pname = i_params.data.pname;\r\n        }\r\n        if(i_params.data.pageNum){\r\n            this.search_obj.pageNum = i_params.data.pageNum;\r\n        }\r\n        if(i_params.data.pageSize){\r\n            this.search_obj.pageSize = i_params.data.pageSize;\r\n        }\r\n        this.getBrDiagnoseLabels(this.search_obj.patientId);\r\n        this.getBrList(this.search_obj);\r\n      },\r\n      /**\r\n       * 获取病人的所有诊断标签\r\n       * @param {*} pId\r\n       */\r\n      getBrDiagnoseLabels(pId){\r\n          var _that = this;\r\n          _that.$http.get(\"/inquiry/getOnePatientLabels?patientId=\"+pId).then(function (response) {\r\n                if(response.code == \"1\"){\r\n                    var str = JSON.stringify(response.data.diagnoseLabels);\r\n                    str = str.replace(/[\\[\\]\\\"]*/g, '');\r\n                    _that.diagnoseLabels = _that.diagnoseLabels+str;\r\n                }else{\r\n                    _that.$common.openErrorMsgBox(response.msg,_that);\r\n                }\r\n            }).catch(function (error) {\r\n                 _that.$common.openErrorMsgBox(error,_that);\r\n            });\r\n      },\r\n      /**\r\n       * 获取病人的病历列表\r\n       * @param {*} search_obj\r\n       */\r\n      getBrList(search_obj){\r\n        var _that = this;\r\n        var url = \"/MrManage/getMrList\";\r\n        _that.$http.get(url,{\r\n            params: search_obj\r\n           }).then(function (response) {\r\n          console.log(\"当前病人\",response)\r\n               if(response.code == \"1\"){\r\n                  if(JSON.stringify(response.data.pageInfo.list)!=\"[]\"){\r\n                    _that.tableData = response.data.pageInfo;\r\n                    setTimeout(()=>{\r\n                        _that.setSelectRow();\r\n                    }, 50);\r\n                }\r\n               }else{\r\n                   _that.$common.openErrorMsgBox(response.msg,_that);\r\n               }\r\n\r\n            }).catch(function (error) {\r\n                 _that.$common.openErrorMsgBox(error,_that);\r\n            });\r\n      },\r\n      GobackPage(){\r\n          this.$common.GoBackPrePage(\"grblglpage\",this.search_obj,this);\r\n      },\r\n      /**\r\n       * 导出病历\r\n       *\r\n       */\r\n      exportBlList(){\r\n          var _that = this;\r\n          var params_obj = {};\r\n          params_obj.inquiryIdList =[];\r\n          params_obj.all = false;\r\n          params_obj.patientId = null;\r\n         if(JSON.stringify(this.multipleSelectionAll)=='[]'){\r\n             _that.$common.openErrorMsgBox(\"请选中要导出的病历信息\",_that);\r\n             return false;\r\n         }else{\r\n             for(var i=0;i<this.multipleSelectionAll.length;i++){\r\n                params_obj.inquiryIdList.push(this.multipleSelectionAll[i].inquiryId);\r\n             }\r\n         }\r\n         console.log(JSON.stringify(params_obj));\r\n         var url = \"/dataStatistics/getInquiryInfoList\";\r\n\t\t     var loading = _that.$common.openLoading(\"病历导出中，请耐心等待\",_that);\r\n          _that.$http.post(url, params_obj).then(function (response) {\r\n                  loading.close();\r\n                  if(response.code == \"1\"){\r\n                      //打印的请求数据成功 把数据传递给打印控件；\r\n            if(response.data.inquiryInfo && JSON.stringify(response.data.inquiryInfo)!=\"{}\"){\r\n              _that.$exportPrint(response.data.inquiryInfo,{});\r\n            }\r\n\r\n                  }else{\r\n                      _that.$common.openErrorMsgBox(response.msg,_that);\r\n                  }\r\n              }).catch(function (error) {\r\n\t\t\t  \tloading.close();\r\n                _that.$common.openErrorMsgBox(error,_that);\r\n\r\n            });\r\n      },\r\n\r\n      /**\r\n       * 导出word\r\n       *\r\n       */\r\n      exportWord(){\r\n        var _that = this;\r\n        var params_obj = {};\r\n        params_obj.inquiryIdList =[];\r\n        params_obj.all = false;\r\n        params_obj.patientId = null;\r\n        if(JSON.stringify(this.multipleSelectionAll)=='[]'){\r\n          _that.$common.openErrorMsgBox(\"请选中要导出的病历信息\",_that);\r\n          return false;\r\n        }else{\r\n          for(var i=0;i<this.multipleSelectionAll.length;i++){\r\n            params_obj.inquiryIdList.push(this.multipleSelectionAll[i].inquiryId);\r\n          }\r\n        }\r\n        // console.log(JSON.stringify(params_obj));\r\n         console.log(params_obj);\r\n        var url = \"/index/getPatientInfoWord?all=false\"\r\n        params_obj.inquiryIdList.forEach((p)=>{\r\n               url+=\"&inquiryIdList=\"+p\r\n        })\r\n        console.log(url)\r\n        // var url = \"/index/getPatientInfoWord?inquiryIdList=533&inquiryIdList=534&all=false\";\r\n        var loading = _that.$common.openLoading(\"病历word文档导出中，请耐心等待\",_that);\r\n         _that.$http.post(url,{}).then(function (response) {\r\n           console.log(response)\r\n            loading.close();\r\n           let blob = new Blob([response], {type: `application/msword` //word文档为msword,pdf文档为pdf\r\n           });\r\n           let objectUrl = URL.createObjectURL(blob);\r\n           let link = document.createElement(\"a\");\r\n           let fname = `病人病例`; //下载文件的名字\r\n           link.href = objectUrl;\r\n           link.setAttribute(\"download\", fname);\r\n           document.body.appendChild(link);\r\n           link.click();\r\n        }).catch(function (error) {\r\n          loading.close();\r\n          _that.$common.openErrorMsgBox(error,_that);\r\n\r\n        });\r\n      }\r\n\r\n\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/grblglpage.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grblgl-container\"},[_c('div',{staticClass:\"search-row\"},[_c('div',{staticClass:\"search-row-input-item\"},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.diagnoseLabels),callback:function ($$v) {_vm.diagnoseLabels=$$v},expression:\"diagnoseLabels\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-div-continer\"},[_c('div',{staticClass:\"table-continer\"},[_c('el-table',{ref:\"table\",staticStyle:{\"width\":\"1300px\",\"border\":\"1px solid #ebeef5\",\"overflow-y\":\"auto\"},attrs:{\"tooltip-effect\":\"dark\",\"data\":_vm.tableData.list,\"header-row-class-name\":_vm.headerClassname,\"row-class-name\":_vm.rowClassname,\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"min-width\":\"96\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"times\",\"label\":\"序号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pName\",\"label\":\"姓名\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"inquiryDate\",\"label\":\"最近就诊时间\",\"min-width\":\"260\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"btn-font-default\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleClick(scope.row)}}},[_vm._v(\"查看病例\")])]}}])})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"foot-container\"},[_c('div',{staticClass:\"page-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.search_obj.pageNum,\"page-size\":_vm.search_obj.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.tableData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-row-btn-group\"},[_c('el-button',{staticClass:\"btn-blue\",on:{\"click\":_vm.exportBlList}},[_vm._v(\"导出病历\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-blue\",on:{\"click\":_vm.exportWord}},[_vm._v(\"导出word\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-default\",on:{\"click\":function($event){_vm.GobackPage()}}},[_vm._v(\"返回\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f4867fc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/grblglpage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f4867fc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./grblglpage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../assets/js/grblglpage.js\"\nimport __vue_script__ from \"!!babel-loader!../assets/js/grblglpage.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f4867fc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./grblglpage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/grblglpage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}